{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}


{% block title %}
Example
{% endblock %}

{% block navbar %}
         {% include 'navbar.html' %}
{% endblock %}

{% block content %}
    {% include 'dropdown.html' %}
    <div class="container">
        <div id="series_chart_div" ></div>
    </div>
{% endblock %}
  

{% block scripts %}
    {{super()}}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawSeriesChart);

    function drawSeriesChart() {

      var data = new google.visualization.DataTable();
      // add column data types and label
      data.addColumn('string','ID');
      data.addColumn('number','Life Expectancy');
      data.addColumn('number','Fertility Rate');
      data.addColumn('string','Region');
      data.addColumn('number','Population');

      // takes lines as json
      var fertility_json = '{{ lines | tojson }}';

      // parse the json and feed as rows.
      data.addRows(JSON.parse(fertility_json));

      var options = {
        title: 'Correlation between life expectancy, fertility rate and population',
        hAxis: {title: 'Life Expectancy'},
        vAxis: {title: 'Fertility Rate'},
        bubble: {textStyle: {fontSize: 11}}
      };

      var chart = new google.visualization.BubbleChart(document.getElementById('series_chart_div'));
      chart.draw(data, options);
    }
    </script>
{% endblock %}